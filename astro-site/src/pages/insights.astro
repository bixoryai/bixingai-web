---
import BaseLayout from '../layouts/BaseLayout.astro';
import SecondaryHero from '../components/SecondaryHero.astro';
import FeaturedInsightSection from '../components/FeaturedInsightSection.astro';
import InsightsGridSection from '../components/InsightsGridSection.astro';

const title = "Industry Insights - Bixing Technology";
const description = "Stay updated with the latest insights, trends, and developments in AI technology. Explore our collection of articles and resources.";
---

<BaseLayout title={title} description={description}>
	<main>
		<SecondaryHero 
			title="Industry Insights" 
			subtitle="Explore the latest developments, strategies, and applications in AI"
			dataI18nTitle="insights.hero.title"
			dataI18nSubtitle="insights.hero.subtitle"
		/>
		
		<FeaturedInsightSection />
		<InsightsGridSection />
		
		<!-- Newsletter/Subscribe Section -->
		<section class="newsletter-section">
			<div class="container mx-auto px-4">
				<div class="newsletter-content max-w-4xl mx-auto text-center">
					<h2 class="section-title text-3xl font-bold text-white mb-4" data-i18n="insights.newsletter.title">Stay Updated with AI Trends</h2>
					<p class="section-subtitle text-xl text-gray-400 mb-8" data-i18n="insights.newsletter.subtitle">Subscribe to our newsletter to receive the latest insights, articles, and updates in the world of AI</p>
					
					<div class="newsletter-form max-w-md mx-auto">
						<div class="input-group flex gap-4">
							<input type="email" class="newsletter-input flex-1 px-4 py-3 rounded-lg text-white focus:outline-none transition-colors" placeholder="Your Email Address" aria-label="Your Email Address" data-i18n-placeholder="insights.newsletter.emailPlaceholder">
							<button class="newsletter-button px-8 py-3 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300" type="button" data-i18n="insights.newsletter.subscribe">Subscribe</button>
						</div>
						<div class="form-text text-white/50 mt-2 text-sm" data-i18n="insights.newsletter.privacyNotice">We respect your privacy. Unsubscribe at any time.</div>
					</div>
				</div>
			</div>
		</section>
	</main>
</BaseLayout>

<script is:inline src="/assets/js/i18n-insights.js"></script>
<script is:inline>
	// Ensure translations are applied after page load and after dynamic content loads
	function applyInsightsTranslations() {
		const currentLang = localStorage.getItem('bixingLanguage') || 'en';
		
		// Apply translations if applyTranslations function exists
		if (typeof applyTranslations === 'function') {
			applyTranslations(currentLang);
		}
		
		// Update insights page translations if function exists (handles dynamic content)
		if (typeof window.updateInsightsPageTranslations === 'function') {
			window.updateInsightsPageTranslations(currentLang);
		}
	}
	
	document.addEventListener('DOMContentLoaded', function() {
		// Apply translations immediately
		applyInsightsTranslations();
		
		// Apply translations again after delays to catch dynamically loaded content
		setTimeout(applyInsightsTranslations, 500);
		setTimeout(applyInsightsTranslations, 1500);
		
		// Listen for language toggle events
		document.addEventListener('languageToggled', function(e) {
			const lang = e.detail ? e.detail.language : localStorage.getItem('bixingLanguage') || 'en';
			setTimeout(function() {
				applyInsightsTranslations();
			}, 100);
		});
		
		// Also listen for custom language change events
		window.addEventListener('storage', function(e) {
			if (e.key === 'bixingLanguage') {
				const lang = e.newValue || 'en';
				setTimeout(function() {
					applyInsightsTranslations();
				}, 100);
			}
		});
	});
</script>

<style>
	:root {
		--dark-surface: #1e1e1e;
		--dark-bg: #121212;
		--darker-bg: #0a1020;
		--primary-color: #0066FF;
		--accent-color: #00C2FF;
	}
	
	.newsletter-section {
		background: linear-gradient(135deg, var(--dark-bg), var(--darker-bg));
		padding: 60px 0;
		position: relative;
		overflow: hidden;
	}
	
	.newsletter-section::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-image: url('/assets/images/circuit-pattern.svg');
		background-size: cover;
		opacity: 0.1;
		z-index: 1;
	}
	
	.newsletter-content {
		position: relative;
		z-index: 2;
	}
	
	.newsletter-form {
		max-width: 500px;
		margin: 30px auto 0;
	}
	
	.input-group {
		display: flex;
		gap: 1rem;
	}
	
	.newsletter-input {
		background: rgba(255, 255, 255, 0.1);
		border: 1px solid rgba(255, 255, 255, 0.2);
		color: white;
		border-radius: 30px;
		padding: 12px 25px;
		height: auto;
	}
	
	.newsletter-input:focus {
		background: rgba(255, 255, 255, 0.15);
		border-color: var(--primary-color);
		color: white;
		box-shadow: none;
		outline: none;
	}
	
	.newsletter-button {
		background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
		border: none;
		border-radius: 30px;
		padding: 12px 30px;
		font-weight: 500;
		transition: all 0.3s ease;
		cursor: pointer;
	}
	
	.newsletter-button:hover {
		transform: translateY(-3px);
		box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
	}
	
	.form-text {
		color: rgba(255, 255, 255, 0.5);
		margin-top: 0.5rem;
		font-size: 0.875rem;
	}
	
	.section-title {
		position: relative;
		display: inline-block;
	}
	
	.section-subtitle {
		color: rgba(255, 255, 255, 0.7);
	}
	
	.text-center {
		text-align: center;
	}
	
	.max-w-md {
		max-width: 28rem;
	}
	
	.max-w-4xl {
		max-width: 56rem;
	}
	
	.mx-auto {
		margin-left: auto;
		margin-right: auto;
	}
	
	.mb-4 {
		margin-bottom: 1rem;
	}
	
	.mb-8 {
		margin-bottom: 2rem;
	}
	
	.mt-2 {
		margin-top: 0.5rem;
	}
	
	.flex {
		display: flex;
	}
	
	.gap-4 {
		gap: 1rem;
	}
	
	.flex-1 {
		flex: 1 1 0%;
	}
</style>

