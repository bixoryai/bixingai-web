---
// Secondary Hero Section Component for sub-pages
export interface Props {
  title: string;
  subtitle?: string;
  dataI18nTitle?: string;
  dataI18nSubtitle?: string;
}

const { title, subtitle = "", dataI18nTitle, dataI18nSubtitle } = Astro.props;
---

<section class="secondary-hero relative pt-[120px] pb-20 bg-dark-bg text-white h-[500px] flex items-center justify-center" style="overflow: visible;">
    <div class="hero-particles absolute top-0 left-0 w-full h-full z-[1]" id="secondary-hero-particles"></div>
    <div class="container mx-auto px-4">
        <div class="secondary-hero-content relative z-[2] text-center max-w-4xl mx-auto animate-fade-up">
            <h1 class="secondary-hero-title text-5xl font-bold mb-4 bg-gradient-to-r from-[#FFD700] via-[#FF8C00] to-[#FFA500] bg-clip-text text-transparent inline-block" id="hero-title" data-i18n={dataI18nTitle} style="text-shadow: 0 2px 10px rgba(255, 184, 0, 0.2);">
                {title}
            </h1>
            {subtitle && (
                <p class="secondary-hero-subtitle text-xl text-gray-300 max-w-2xl mx-auto mb-8" id="hero-subtitle" data-i18n={dataI18nSubtitle}>
                    {subtitle}
                </p>
            )}
        </div>
    </div>
    
    <!-- Hero Wave Shape - Section Boundary Visual -->
    <!-- This wave creates a visual transition from hero section to content section -->
    <div class="secondary-hero-shape">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 200" preserveAspectRatio="none" style="display: block; width: 100%; height: 200px; position: relative;">
            <path fill="#0a0a0a" fill-opacity="1" d="M0,160L48,144C96,128,192,96,288,90.7C384,85,480,107,576,117.3C672,128,768,128,864,122.7C960,117,1056,107,1152,96C1248,85,1344,75,1392,69.3L1440,64L1440,200L1392,200C1344,200,1248,200,1152,200C1056,200,960,200,864,200C768,200,672,200,576,200C480,200,384,200,288,200C192,200,96,200,48,200L0,200Z"></path>
        </svg>
    </div>
</section>

<script>
    console.log('SecondaryHero component loaded');

    // Translation system removed - handled by parent page/component

    // Initialize particles for secondary hero section
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof particlesJS !== 'undefined') {
            const particlesEl = document.getElementById('secondary-hero-particles');
            if (particlesEl) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            particlesJS('secondary-hero-particles', {
                                "particles": {
                                    "number": {
                                        "value": 60,
                                        "density": {
                                            "enable": true,
                                            "value_area": 800
                                        }
                                    },
                                    "color": {
                                        "value": "#5ce1e6"
                                    },
                                    "shape": {
                                        "type": "circle"
                                    },
                                    "opacity": {
                                        "value": 0.2,
                                        "random": true
                                    },
                                    "size": {
                                        "value": 3,
                                        "random": true
                                    },
                                    "line_linked": {
                                        "enable": true,
                                        "distance": 150,
                                        "color": "#5ce1e6",
                                        "opacity": 0.1,
                                        "width": 1
                                    },
                                    "move": {
                                        "enable": true,
                                        "speed": 1.5,
                                        "direction": "none",
                                        "random": false,
                                        "straight": false,
                                        "out_mode": "out",
                                        "bounce": false
                                    }
                                },
                                "interactivity": {
                                    "detect_on": "canvas",
                                    "events": {
                                        "onhover": {
                                            "enable": true,
                                            "mode": "grab"
                                        },
                                        "onclick": {
                                            "enable": true,
                                            "mode": "push"
                                        },
                                        "resize": true
                                    },
                                    "modes": {
                                        "grab": {
                                            "distance": 140,
                                            "line_linked": {
                                                "opacity": 0.3
                                            }
                                        },
                                        "push": {
                                            "particles_nb": 4
                                        }
                                    }
                                },
                                "retina_detect": true
                            });
                            observer.disconnect();
                        }
                    });
                }, { rootMargin: '50px' });
                
                observer.observe(particlesEl);
            }
        }
    });
</script>

<style>
    :root {
        --dark-bg: #121212;
    }
    
    .secondary-hero {
        overflow: visible !important;
        position: relative;
    }
    
    /* Secondary Hero Wave Shape - Section Boundary Visual */
    .secondary-hero-shape {
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        line-height: 0;
        z-index: 10;
        pointer-events: none;
        overflow: visible !important;
        transform: translateY(0);
    }
    
    .secondary-hero-shape svg {
        display: block;
        width: 100%;
        height: 200px;
        min-height: 200px;
        vertical-align: bottom;
        position: relative;
    }
    
    .secondary-hero-shape path {
        /* Wave shape uses a darker color to create visible border contrast */
        fill: #0a0a0a; /* Darker than section background (#121212) for contrast */
        fill-opacity: 1;
    }
    
    @media (max-width: 992px) {
        .secondary-hero {
            padding-top: 100px;
            padding-bottom: 60px;
            height: auto;
            min-height: 400px;
        }
    }
    
    @media (max-width: 768px) {
        .secondary-hero {
            padding-top: 80px;
            padding-bottom: 50px;
            min-height: 350px;
        }
        
        .secondary-hero-title {
            font-size: 2.5rem;
        }
        
        .secondary-hero-subtitle {
            font-size: 1.1rem;
        }
    }
    
    @media (max-width: 576px) {
        .secondary-hero {
            padding-top: 70px;
            padding-bottom: 40px;
            min-height: 300px;
        }
        
        .secondary-hero-title {
            font-size: 2rem;
        }
    }
</style>

